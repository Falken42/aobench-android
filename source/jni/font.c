#include <stdlib.h>
#include <stdarg.h>
#include <GLES/gl.h>
#include "font.h"

static GLuint fonttexid = 0;

const unsigned char vga8x8Font[2048] = {
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7E, 0x81, 0xA5, 0x81, 0xBD, 0x99, 0x81, 0x7E,
	0x7E, 0xFF, 0xDB, 0xFF, 0xC3, 0xE7, 0xFF, 0x7E, 0x6C, 0xFE, 0xFE, 0xFE, 0x7C, 0x38, 0x10, 0x00,
	0x10, 0x38, 0x7C, 0xFE, 0x7C, 0x38, 0x10, 0x00, 0x38, 0x7C, 0x38, 0xFE, 0xFE, 0x7C, 0x38, 0x7C,
	0x10, 0x10, 0x38, 0x7C, 0xFE, 0x7C, 0x38, 0x7C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xFF, 0xFF, 0xE7, 0xC3, 0xC3, 0xE7, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x06, 0x1E, 0x66, 0xCE, 0xF6, 0xC7, 0xE7, 0xE0, 0x99, 0x5A, 0x3C, 0xE7, 0xE7, 0x3C, 0x5A, 0x99,
	0x02, 0x0E, 0x3E, 0xFE, 0x3E, 0x0E, 0x02, 0x00, 0x80, 0xE0, 0xF8, 0xFE, 0xF8, 0xE0, 0x80, 0x00,
	0x18, 0x3C, 0x7E, 0x18, 0x18, 0x7E, 0x3C, 0x18, 0x66, 0x66, 0x66, 0x66, 0x66, 0x00, 0x66, 0x00,
	0xFE, 0xDB, 0xDB, 0xDE, 0xD8, 0xD8, 0xD8, 0x00, 0xFC, 0x06, 0x7C, 0xC6, 0x7C, 0xC0, 0x7E, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x7E, 0x7E, 0x7E, 0x00, 0x18, 0x3C, 0x7E, 0x18, 0x7E, 0x3C, 0x18, 0xFF,
	0x18, 0x3C, 0x7E, 0x18, 0x18, 0x18, 0x18, 0x00, 0x18, 0x18, 0x18, 0x18, 0x7E, 0x3C, 0x18, 0x00,
	0x00, 0x30, 0x60, 0xFE, 0x60, 0x30, 0x00, 0x00, 0x00, 0x18, 0x0C, 0xFE, 0x0C, 0x18, 0x00, 0x00,
	0x00, 0x18, 0x0C, 0xFE, 0x0C, 0x18, 0x00, 0x00, 0x00, 0x18, 0x0C, 0xFE, 0x0C, 0x18, 0x00, 0x00,
	0x00, 0x18, 0x0C, 0xFE, 0x0C, 0x18, 0x00, 0x00, 0x00, 0x18, 0x0C, 0xFE, 0x0C, 0x18, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x3C, 0x3C, 0x18, 0x18, 0x00, 0x18, 0x00,
	0x6C, 0x6C, 0x6C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x6C, 0x6C, 0xFE, 0x6C, 0xFE, 0x6C, 0x6C, 0x00,
	0x18, 0x7C, 0x06, 0x3C, 0x60, 0x3E, 0x18, 0x00, 0x00, 0xC6, 0x66, 0x30, 0x18, 0xCC, 0xC6, 0x00,
	0x38, 0x6C, 0x38, 0xDC, 0x76, 0x66, 0xDC, 0x00, 0x18, 0x18, 0x0C, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x30, 0x18, 0x0C, 0x0C, 0x0C, 0x18, 0x30, 0x00, 0x0C, 0x18, 0x30, 0x30, 0x30, 0x18, 0x0C, 0x00,
	0x00, 0x66, 0x3C, 0xFF, 0x3C, 0x66, 0x00, 0x00, 0x00, 0x18, 0x18, 0x7E, 0x18, 0x18, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x18, 0x0C, 0x00, 0x00, 0x00, 0x7E, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x18, 0x00, 0xC0, 0x60, 0x30, 0x18, 0x0C, 0x06, 0x03, 0x00,
	0x7C, 0xC6, 0xE6, 0xF6, 0xDE, 0xCE, 0x7C, 0x00, 0x18, 0x1C, 0x18, 0x18, 0x18, 0x18, 0x7E, 0x00,
	0x3C, 0x66, 0x60, 0x38, 0x0C, 0x66, 0x7E, 0x00, 0x3C, 0x66, 0x60, 0x38, 0x60, 0x66, 0x3C, 0x00,
	0x70, 0x78, 0x6C, 0x66, 0xFE, 0x60, 0xF0, 0x00, 0x7E, 0x06, 0x3E, 0x60, 0x60, 0x66, 0x3C, 0x00,
	0x38, 0x0C, 0x06, 0x3E, 0x66, 0x66, 0x3C, 0x00, 0x7E, 0x66, 0x60, 0x30, 0x18, 0x18, 0x18, 0x00,
	0x3C, 0x66, 0x66, 0x3C, 0x66, 0x66, 0x3C, 0x00, 0x3C, 0x66, 0x66, 0x7C, 0x60, 0x30, 0x1C, 0x00,
	0x00, 0x18, 0x18, 0x00, 0x00, 0x18, 0x18, 0x00, 0x00, 0x18, 0x18, 0x00, 0x00, 0x18, 0x18, 0x0C,
	0x60, 0x30, 0x18, 0x0C, 0x18, 0x30, 0x60, 0x00, 0x00, 0x00, 0x7E, 0x00, 0x7E, 0x00, 0x00, 0x00,
	0x0C, 0x18, 0x30, 0x60, 0x30, 0x18, 0x0C, 0x00, 0x3C, 0x66, 0x60, 0x30, 0x18, 0x00, 0x18, 0x00,
	0x7C, 0xC6, 0xF6, 0xF6, 0xF6, 0x06, 0x3C, 0x00, 0x38, 0x6C, 0xC6, 0xC6, 0xFE, 0xC6, 0xC6, 0x00,
	0x7E, 0xCC, 0xCC, 0x7C, 0xCC, 0xCC, 0x7E, 0x00, 0x78, 0xCC, 0x06, 0x06, 0x06, 0xCC, 0x78, 0x00,
	0x3E, 0x6C, 0xCC, 0xCC, 0xCC, 0x6C, 0x3E, 0x00, 0xFE, 0x8C, 0x2C, 0x3C, 0x2C, 0x8C, 0xFE, 0x00,
	0xFE, 0x8C, 0x2C, 0x3C, 0x2C, 0x0C, 0x1E, 0x00, 0x78, 0xCC, 0x06, 0x06, 0xE6, 0xCC, 0xF8, 0x00,
	0x66, 0x66, 0x66, 0x7E, 0x66, 0x66, 0x66, 0x00, 0x3C, 0x18, 0x18, 0x18, 0x18, 0x18, 0x3C, 0x00,
	0xF0, 0x60, 0x60, 0x60, 0x66, 0x66, 0x3C, 0x00, 0xCE, 0xCC, 0x6C, 0x3C, 0x6C, 0xCC, 0xCE, 0x00,
	0x1E, 0x0C, 0x0C, 0x0C, 0x8C, 0xCC, 0xFE, 0x00, 0xC6, 0xEE, 0xFE, 0xFE, 0xD6, 0xC6, 0xC6, 0x00,
	0xC6, 0xCE, 0xDE, 0xF6, 0xE6, 0xC6, 0xC6, 0x00, 0x7C, 0xC6, 0xC6, 0xC6, 0xC6, 0xC6, 0x7C, 0x00,
	0x7E, 0xCC, 0xCC, 0x7C, 0x0C, 0x0C, 0x1E, 0x00, 0x7C, 0xC6, 0xC6, 0xC6, 0xC6, 0xF6, 0x7C, 0xC0,
	0x7E, 0xCC, 0xCC, 0x7C, 0x6C, 0xCC, 0xCE, 0x00, 0x3C, 0x66, 0x0E, 0x1C, 0x70, 0x66, 0x3C, 0x00,
	0x7E, 0x5A, 0x18, 0x18, 0x18, 0x18, 0x3C, 0x00, 0xC6, 0xC6, 0xC6, 0xC6, 0xC6, 0xC6, 0x7C, 0x00,
	0x66, 0x66, 0x66, 0x66, 0x66, 0x3C, 0x18, 0x00, 0xC6, 0xC6, 0xC6, 0xD6, 0xFE, 0xEE, 0xC6, 0x00,
	0xC6, 0xC6, 0x6C, 0x38, 0x38, 0x6C, 0xC6, 0x00, 0x66, 0x66, 0x66, 0x3C, 0x18, 0x18, 0x3C, 0x00,
	0xFE, 0xC6, 0x62, 0x30, 0x98, 0xCC, 0xFE, 0x00, 0x3C, 0x0C, 0x0C, 0x0C, 0x0C, 0x0C, 0x3C, 0x00,
	0x06, 0x0C, 0x18, 0x30, 0x60, 0xC0, 0x80, 0x00, 0x3C, 0x30, 0x30, 0x30, 0x30, 0x30, 0x3C, 0x00,
	0x10, 0x38, 0x6C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF,
	0x18, 0x18, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3C, 0x60, 0x7C, 0x66, 0xDC, 0x00,
	0x0E, 0x0C, 0x7C, 0xCC, 0xCC, 0xCC, 0x76, 0x00, 0x00, 0x00, 0x3C, 0x66, 0x06, 0x66, 0x3C, 0x00,
	0x70, 0x60, 0x7C, 0x66, 0x66, 0x66, 0xDC, 0x00, 0x00, 0x00, 0x3C, 0x66, 0x7E, 0x06, 0x3C, 0x00,
	0x38, 0x6C, 0x0C, 0x1E, 0x0C, 0x0C, 0x1E, 0x00, 0x00, 0x00, 0xDC, 0x66, 0x66, 0x7C, 0x60, 0x3E,
	0x0E, 0x0C, 0x6C, 0xDC, 0xCC, 0xCC, 0xCE, 0x00, 0x18, 0x00, 0x1C, 0x18, 0x18, 0x18, 0x3C, 0x00,
	0x60, 0x00, 0x70, 0x60, 0x60, 0x66, 0x66, 0x3C, 0x0E, 0x0C, 0xCC, 0x6C, 0x3C, 0x6C, 0xCE, 0x00,
	0x1C, 0x18, 0x18, 0x18, 0x18, 0x18, 0x3C, 0x00, 0x00, 0x00, 0x67, 0xFE, 0xFE, 0xD6, 0xC6, 0x00,
	0x00, 0x00, 0x76, 0xCC, 0xCC, 0xCC, 0xCC, 0x00, 0x00, 0x00, 0x3C, 0x66, 0x66, 0x66, 0x3C, 0x00,
	0x00, 0x00, 0x76, 0xCC, 0xCC, 0x7C, 0x0C, 0x1E, 0x00, 0x00, 0xDC, 0x66, 0x66, 0x7C, 0x60, 0xF0,
	0x00, 0x00, 0x76, 0xDC, 0xCC, 0x0C, 0x1E, 0x00, 0x00, 0x00, 0x7C, 0x06, 0x3C, 0x60, 0x3E, 0x00,
	0x08, 0x0C, 0x3E, 0x0C, 0x0C, 0x6C, 0x38, 0x00, 0x00, 0x00, 0x66, 0x66, 0x66, 0x66, 0xDC, 0x00,
	0x00, 0x00, 0x66, 0x66, 0x66, 0x3C, 0x18, 0x00, 0x00, 0x00, 0xC6, 0xD6, 0xFE, 0xFE, 0x6C, 0x00,
	0x00, 0x00, 0xC6, 0x6C, 0x38, 0x6C, 0xC6, 0x00, 0x00, 0x00, 0x66, 0x66, 0x66, 0x7C, 0x60, 0x3E,
	0x00, 0x00, 0x7E, 0x32, 0x18, 0x4C, 0x7E, 0x00, 0x70, 0x18, 0x18, 0x0E, 0x18, 0x18, 0x70, 0x00,
	0x18, 0x18, 0x18, 0x00, 0x18, 0x18, 0x18, 0x00, 0x0E, 0x18, 0x18, 0x70, 0x18, 0x18, 0x0E, 0x00,
	0xDC, 0x76, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x38, 0x6C, 0xC6, 0xC6, 0xFE, 0x00,
	0x78, 0xCC, 0x06, 0x06, 0x06, 0xCC, 0x78, 0x30, 0x66, 0x00, 0x66, 0x66, 0x66, 0x66, 0xDC, 0x00,
	0x30, 0x18, 0x3C, 0x66, 0x7E, 0x06, 0x3C, 0x00, 0x3C, 0xC3, 0x3C, 0x60, 0x7C, 0x66, 0xFC, 0x00,
	0x66, 0x00, 0x3C, 0x60, 0x7C, 0x66, 0xFC, 0x00, 0x0C, 0x18, 0x3C, 0x60, 0x7C, 0x66, 0xFC, 0x00,
	0x18, 0x00, 0x3C, 0x60, 0x7C, 0x66, 0xFC, 0x00, 0x00, 0x00, 0x3C, 0x66, 0x06, 0x66, 0x3C, 0x18,
	0x3C, 0xC3, 0x3C, 0x66, 0x7E, 0x06, 0x3C, 0x00, 0x66, 0x00, 0x3C, 0x66, 0x7E, 0x06, 0x3C, 0x00,
	0x0C, 0x18, 0x3C, 0x66, 0x7E, 0x06, 0x3C, 0x00, 0x66, 0x00, 0x1C, 0x18, 0x18, 0x18, 0x3C, 0x00,
	0x1C, 0x63, 0x1C, 0x18, 0x18, 0x18, 0x3C, 0x00, 0x0C, 0x18, 0x1C, 0x18, 0x18, 0x18, 0x3C, 0x00,
	0xC6, 0x38, 0x6C, 0xC6, 0xFE, 0xC6, 0xC6, 0x00, 0x38, 0x38, 0x7C, 0xC6, 0xFE, 0xC6, 0xC6, 0x00,
	0x60, 0x30, 0xFE, 0x8C, 0x3C, 0x8C, 0xFE, 0x00, 0x00, 0x00, 0x7E, 0xD8, 0x7E, 0x1B, 0x7E, 0x00,
	0xFC, 0x36, 0x33, 0xFF, 0x33, 0x33, 0xF3, 0x00, 0x3C, 0xC3, 0x3C, 0x66, 0x66, 0x66, 0x3C, 0x00,
	0x66, 0x00, 0x3C, 0x66, 0x66, 0x66, 0x3C, 0x00, 0x0C, 0x18, 0x3C, 0x66, 0x66, 0x66, 0x3C, 0x00,
	0x3C, 0xC3, 0x66, 0x66, 0x66, 0x66, 0xDC, 0x00, 0x0C, 0x18, 0x66, 0x66, 0x66, 0x66, 0xDC, 0x00,
	0x66, 0x00, 0x66, 0x66, 0x66, 0x7C, 0x60, 0x3E, 0xC6, 0x7C, 0xC6, 0xC6, 0xC6, 0xC6, 0x7C, 0x00,
	0x6C, 0xC6, 0xC6, 0xC6, 0xC6, 0xC6, 0x7C, 0x00, 0x30, 0x30, 0xFC, 0x06, 0x06, 0xFC, 0x30, 0x30,
	0x38, 0x6C, 0x4C, 0x1E, 0x0C, 0xCE, 0x7E, 0x00, 0x66, 0x66, 0x3C, 0x7E, 0x18, 0x7E, 0x18, 0x18,
	0x1F, 0x33, 0x33, 0x5F, 0x63, 0xF3, 0x63, 0xE3, 0x70, 0x18, 0x18, 0x3C, 0x18, 0x18, 0x18, 0x0E,
	0x30, 0x18, 0x3C, 0x60, 0x7C, 0x66, 0xFC, 0x00, 0x18, 0x0C, 0x1C, 0x18, 0x18, 0x18, 0x3C, 0x00,
	0x30, 0x18, 0x3C, 0x66, 0x66, 0x66, 0x3C, 0x00, 0x30, 0x18, 0x66, 0x66, 0x66, 0x66, 0xDC, 0x00,
	0xDC, 0xF6, 0x00, 0x76, 0xCC, 0xCC, 0xCC, 0x00, 0x6E, 0x7B, 0xCE, 0xDE, 0xF6, 0xE6, 0xC6, 0x00,
	0x3C, 0x60, 0x7C, 0x66, 0xDC, 0x00, 0xFF, 0x00, 0x3C, 0x66, 0x66, 0x66, 0x3C, 0x00, 0xFF, 0x00,
	0x00, 0x18, 0x00, 0x18, 0x0C, 0x06, 0x66, 0x3C, 0x00, 0x00, 0x00, 0x7E, 0x06, 0x06, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x7E, 0x60, 0x60, 0x00, 0x00, 0xC3, 0x63, 0x33, 0x7B, 0xCC, 0x66, 0x33, 0xF0,
	0xC3, 0x63, 0x33, 0x1B, 0xEC, 0xF6, 0xF3, 0xC0, 0x00, 0x18, 0x00, 0x18, 0x18, 0x3C, 0x3C, 0x18,
	0x00, 0xCC, 0x66, 0x33, 0x66, 0xCC, 0x00, 0x00, 0x00, 0x33, 0x66, 0xCC, 0x66, 0x33, 0x00, 0x00,
	0x44, 0x11, 0x44, 0x11, 0x44, 0x11, 0x44, 0x11, 0xAA, 0x55, 0xAA, 0x55, 0xAA, 0x55, 0xAA, 0x55,
	0xDB, 0xEE, 0xDB, 0x77, 0xDB, 0xEE, 0xDB, 0x77, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
	0x18, 0x18, 0x18, 0x18, 0x1F, 0x18, 0x18, 0x18, 0x18, 0x18, 0x1F, 0x18, 0x1F, 0x18, 0x18, 0x18,
	0x6C, 0x6C, 0x6C, 0x6C, 0x6F, 0x6C, 0x6C, 0x6C, 0x00, 0x00, 0x00, 0x00, 0x7F, 0x6C, 0x6C, 0x6C,
	0x00, 0x00, 0x1F, 0x18, 0x1F, 0x18, 0x18, 0x18, 0x6C, 0x6C, 0x6F, 0x60, 0x6F, 0x6C, 0x6C, 0x6C,
	0x6C, 0x6C, 0x6C, 0x6C, 0x6C, 0x6C, 0x6C, 0x6C, 0x00, 0x00, 0x7F, 0x60, 0x6F, 0x6C, 0x6C, 0x6C,
	0x6C, 0x6C, 0x6F, 0x60, 0x7F, 0x00, 0x00, 0x00, 0x6C, 0x6C, 0x6C, 0x6C, 0x7F, 0x00, 0x00, 0x00,
	0x18, 0x18, 0x1F, 0x18, 0x1F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0x18, 0x18, 0x18,
	0x18, 0x18, 0x18, 0x18, 0xF8, 0x00, 0x00, 0x00, 0x18, 0x18, 0x18, 0x18, 0xFF, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xFF, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0xF8, 0x18, 0x18, 0x18,
	0x00, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x18, 0x18, 0x18, 0x18, 0xFF, 0x18, 0x18, 0x18,
	0x18, 0x18, 0xF8, 0x18, 0xF8, 0x18, 0x18, 0x18, 0x6C, 0x6C, 0x6C, 0x6C, 0xEC, 0x6C, 0x6C, 0x6C,
	0x6C, 0x6C, 0xEC, 0x0C, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFC, 0x0C, 0xEC, 0x6C, 0x6C, 0x6C,
	0x6C, 0x6C, 0xEF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xEF, 0x6C, 0x6C, 0x6C,
	0x6C, 0x6C, 0xEC, 0x0C, 0xEC, 0x6C, 0x6C, 0x6C, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00,
	0x6C, 0x6C, 0xEF, 0x00, 0xEF, 0x6C, 0x6C, 0x6C, 0x18, 0x18, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00,
	0x6C, 0x6C, 0x6C, 0x6C, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x18, 0x18, 0x18,
	0x00, 0x00, 0x00, 0x00, 0xFF, 0x6C, 0x6C, 0x6C, 0x6C, 0x6C, 0x6C, 0x6C, 0xFC, 0x00, 0x00, 0x00,
	0x18, 0x18, 0xF8, 0x18, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0xF8, 0x18, 0xF8, 0x18, 0x18, 0x18,
	0x00, 0x00, 0x00, 0x00, 0xFC, 0x6C, 0x6C, 0x6C, 0x6C, 0x6C, 0x6C, 0x6C, 0xFF, 0x6C, 0x6C, 0x6C,
	0x18, 0x18, 0xFF, 0x18, 0xFF, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x1F, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xF8, 0x18, 0x18, 0x18, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0x0F, 0x0F, 0x0F, 0x0F, 0x0F, 0x0F, 0x0F, 0x0F,
	0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0xDC, 0x76, 0x26, 0x76, 0xDC, 0x00, 0x3C, 0x66, 0x66, 0x3E, 0xC6, 0xC6, 0x76, 0x06,
	0xFE, 0xCC, 0x8C, 0x0C, 0x0C, 0x0C, 0x1E, 0x00, 0x00, 0x00, 0xFE, 0x6C, 0x6C, 0x6C, 0xCC, 0x00,
	0x7E, 0x66, 0x0C, 0x18, 0x0C, 0x66, 0x7E, 0x00, 0x00, 0x00, 0xFC, 0x66, 0x66, 0x66, 0x3C, 0x00,
	0x00, 0x00, 0xCC, 0xCC, 0xCC, 0xCC, 0x7C, 0x06, 0x00, 0x00, 0x7E, 0x19, 0x18, 0x18, 0x18, 0x00,
	0x7E, 0x18, 0x3C, 0x66, 0x66, 0x3C, 0x18, 0x7E, 0x38, 0x6C, 0xC6, 0xFE, 0xC6, 0x6C, 0x38, 0x00,
	0x3C, 0x66, 0xC3, 0xC3, 0xC3, 0x66, 0xE7, 0x00, 0x70, 0x18, 0x30, 0x7C, 0x66, 0x66, 0x3C, 0x00,
	0x00, 0x00, 0x7E, 0xDB, 0xDB, 0x7E, 0x00, 0x00, 0x00, 0xC0, 0x7C, 0xE6, 0xD6, 0xCE, 0x7C, 0x06,
	0x38, 0x0C, 0x06, 0x3E, 0x06, 0x0C, 0x38, 0x00, 0x3C, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x00,
	0x00, 0x7E, 0x00, 0x7E, 0x00, 0x7E, 0x00, 0x00, 0x00, 0x18, 0x7E, 0x18, 0x00, 0x7E, 0x00, 0x00,
	0x0C, 0x18, 0x30, 0x18, 0x0C, 0x7E, 0x00, 0x00, 0x30, 0x18, 0x0C, 0x18, 0x30, 0x7E, 0x00, 0x00,
	0xE0, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x36, 0x36, 0x1C,
	0x18, 0x18, 0x00, 0x7E, 0x00, 0x18, 0x18, 0x00, 0x00, 0xDC, 0x76, 0x00, 0xDC, 0x76, 0x00, 0x00,
	0x38, 0x6C, 0x6C, 0x38, 0x00, 0x00, 0x00, 0x00, 0x00, 0x38, 0x38, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x18, 0x18, 0x00, 0x00, 0x00, 0xF0, 0x30, 0x30, 0x30, 0x37, 0x36, 0x3C, 0x38,
	0x3C, 0x6C, 0x6C, 0x6C, 0x6C, 0x00, 0x00, 0x00, 0x1C, 0x30, 0x18, 0x0C, 0x3C, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x3C, 0x3C, 0x3C, 0x3C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

static void font_init()
{
	int t, l, b;

	// allocate memory for a 16x16 (256) glyph map of 8x8 pixels each, and clear to black
	const int size = (16*8) * (16*8) * 3;
	unsigned char *texmap = (unsigned char *)malloc(size);
	memset(texmap, 0, size);
	
	// initialize pointer to start of glyph data
	const unsigned char *ptr = vga8x8Font;
	
	// unpack bitmap glyph data to RGB texture data
	for (t = 0; t < 256; t++)
	{
		// calculate x/y position of glyph within texture
		const int x = (t % 16) * 8;
		const int y = (t / 16) * 8;
		
		// iterate through all lines for this glyph
		for (l = 0; l < 8; l++)
		{
			// get this byte
			unsigned char val = *ptr++;
			
			// now iterate through all bits
			for (b = 0; b < 8; b++)
			{
				// set pixel to white if bit is on
				if (val & 0x01)
				{
					const int offs = ((y + l) * ((16*8) * 3)) + ((x + b) * 3);
					texmap[offs    ] = 0xFF;
					texmap[offs + 1] = 0xFF;
					texmap[offs + 2] = 0xFF;
				}
				
				// shift bits down
				val >>= 1;
			}
		}
	}
	
	// generate texture map and load it
	glGenTextures(1, &fonttexid);
	glBindTexture(GL_TEXTURE_2D, fonttexid);
	glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);
	glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST);
	glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, 16*8, 16*8, 0, GL_RGB, GL_UNSIGNED_BYTE, texmap);
	
	// free generated local map
	free(texmap);
}

void font_printf(int x, int y, float scale, const char *fmt, ...)
{
	va_list args;
	char buf[256];
	
	// calculate glyph size
	const float glyphsize = 8.0f * scale;

	GLfloat verts[] = {
		x + glyphsize,	y,
		x,				y,
		x + glyphsize,	y + glyphsize,
		x,				y + glyphsize
	};
	
	GLfloat texcoords[] = {
		1.0f,			0.0f,
		0.0f,			0.0f,
		1.0f,			1.0f,
		0.0f,			1.0f
	};
	
	// format arguments
	va_start(args, fmt);
	vsnprintf(buf, sizeof(buf), fmt, args);
	va_end(args);
	
	// initialize font texture if necessary
	if (fonttexid == 0)
		font_init();

	// setup rendering
	glBindTexture(GL_TEXTURE_2D, fonttexid);
	glVertexPointer(2, GL_FLOAT, 0, verts);
	glTexCoordPointer(2, GL_FLOAT, 0, texcoords);
	glEnableClientState(GL_VERTEX_ARRAY);
	glEnableClientState(GL_TEXTURE_COORD_ARRAY);

	// loop for each glyph
	const char *ptr = buf;
	while (*ptr != 0)
	{
		// calculate x/y position of glyph within texture
		const int x = ((*ptr) % 16) * 8;
		const int y = ((*ptr) / 16) * 8;

		// set texture coordinates
		texcoords[1] = (float)y / (16*8);
		texcoords[3] = texcoords[1];
		texcoords[2] = (float)x / (16*8);
		texcoords[6] = texcoords[2];
		
		texcoords[0] = (float)(x + 8) / (16*8);
		texcoords[4] = texcoords[0];
		texcoords[5] = (float)(y + 8) / (16*8);
		texcoords[7] = texcoords[5];
		
		// render the glyph
		glDrawArrays(GL_TRIANGLE_STRIP, 0, 4);
		
		// advance x position
		verts[0] += glyphsize;
		verts[2] += glyphsize;
		verts[4] += glyphsize;
		verts[6] += glyphsize;

		// advance to next glyph
		ptr++;
	}
}
